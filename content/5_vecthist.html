
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Vectors and Multi-dimensional Histograms &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/5_vecthist';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Project: Discover the Higgs!" href="project-workbook.html" />
    <link rel="prev" title="Dimuons Revisited" href="4_dimuons.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.jpg" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="../_static/logo.jpg" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Python for High Energy Physics
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0_dictsarrs.html">Python Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_uprootawk.html">Uproot I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_awksim.html">Awkward Arrays for Simulated Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_combinatronics.html">Combinatronics</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_dimuons.html">Dimuons Revisited</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Vectors and Multi-dimensional Histograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="project-workbook.html">Project: Discover the Higgs!</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/roy-cruz/PythonHEP-Book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/roy-cruz/PythonHEP-Book/issues/new?title=Issue%20on%20page%20%2Fcontent/5_vecthist.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/content/5_vecthist.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Vectors and Multi-dimensional Histograms</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vectors">Vectors</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#awkward-arrays-and-vector">Awkward arrays and Vector</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hist">Hist</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#universal-histogram-indexing-uhi">Universal Histogram Indexing (UHI)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-dimensional-histograms">Multi-dimensional histograms</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="vectors-and-multi-dimensional-histograms">
<h1>Vectors and Multi-dimensional Histograms<a class="headerlink" href="#vectors-and-multi-dimensional-histograms" title="Link to this heading">#</a></h1>
<section id="vectors">
<h2>Vectors<a class="headerlink" href="#vectors" title="Link to this heading">#</a></h2>
<p>So far, to compute the mass for the dimuon spectrum, we have been using the equation</p>
<div class="math notranslate nohighlight">
\[m_{\mu\mu} = \sqrt{
    2p_{T,0} p_{T,1} * \left(\cosh(\eta_0 - \eta_1) - \cos(\phi_0- \phi_1)\right)
}\]</div>
<p>However, having to implement things like this and other equations that are common in HEP involving vector quantities can get annoying quickly. Luckily, Scikit-HEP has a solution for this: the <code class="docutils literal notranslate"><span class="pre">vector</span></code> library! This library can handle different types of vectors such as 4-vectors, 3D spatial vectors, and more, and it can seamlessly compute derived quantities. Moreover, these vectors can be represented in a variety of coordinate systems: cartesian, cylindrical, spherical, and any combination of these with time and proper time for Lorentz vectors.</p>
<p>As an example, lets define two 3-momentum vectors. and add them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">vector</span>

<span class="n">one</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="n">px</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">py</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pz</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">two</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">obj</span><span class="p">(</span><span class="n">px</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">py</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pz</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">one</span> <span class="o">+</span> <span class="n">two</span>
</pre></div>
</div>
</div>
</div>
<p>We can also get the magnitude of the “distance” between these two vectors.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">one</span><span class="o">.</span><span class="n">deltaR</span><span class="p">(</span><span class="n">two</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And we can very easily change the coordinate system.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">one</span><span class="o">.</span><span class="n">to_rhophieta</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">one</span> <span class="o">+</span> <span class="n">two</span><span class="p">)</span><span class="o">.</span><span class="n">to_rhophieta</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Notice that we can get derived quantities not explicitly given to the object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">one</span><span class="o">.</span><span class="n">to_Vector4D</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>This library includes the classes <code class="docutils literal notranslate"><span class="pre">MomentumNumpy2D</span></code>, <code class="docutils literal notranslate"><span class="pre">MomentumNumpy3D</span></code> and <code class="docutils literal notranslate"><span class="pre">MomentumNumpy4D</span></code> which are NumPy array sub-types, so NumPy arrays can be cast to these types and get all the <code class="docutils literal notranslate"><span class="pre">vector</span></code> function. As an example, lets use the <code class="docutils literal notranslate"><span class="pre">skhep_testdata</span></code> library to load some test data which contains simulated events of <span class="math notranslate nohighlight">\(Z \to \mu\mu\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">uproot</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">skhep_testdata</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">awkward</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ak</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">uproot</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">skhep_testdata</span><span class="o">.</span><span class="n">data_path</span><span class="p">(</span><span class="s2">&quot;uproot-Zmumu.root&quot;</span><span class="p">))[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">zmumu</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">arrays</span><span class="p">()</span>
<span class="n">zmumu</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Loading data into `ndarrays`</span>
<span class="c1"># Each column in the ndarray has a name, which is the name of the branch in the tree.</span>
<span class="n">mu1</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">arrays</span><span class="p">(</span><span class="n">filter_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="s2">&quot;p[xyz]1&quot;</span><span class="p">]))</span>
<span class="n">mu2</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">arrays</span><span class="p">(</span><span class="n">filter_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="s2">&quot;p[xyz]2&quot;</span><span class="p">]))</span>
<span class="n">mu1</span><span class="p">,</span> <span class="n">mu2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Changing name of columns</span>
<span class="n">mu1</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;py&quot;</span><span class="p">,</span> <span class="s2">&quot;pz&quot;</span><span class="p">)</span>
<span class="n">mu2</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;py&quot;</span><span class="p">,</span> <span class="s2">&quot;pz&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Casting to vector.MomentumNumpy4D</span>
<span class="n">mu1_vector</span> <span class="o">=</span> <span class="n">mu1</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">vector</span><span class="o">.</span><span class="n">MomentumNumpy4D</span><span class="p">)</span>
<span class="n">mu2_vector</span> <span class="o">=</span> <span class="n">mu2</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="n">vector</span><span class="o">.</span><span class="n">MomentumNumpy4D</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now that we have access to a lot of useful methods for 4-vectors (4-momentum in this case). Let’s see some examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mu1_vector.t</span></code>: gives you the array of energy (<span class="math notranslate nohighlight">\(E\)</span>) values. In the context of a 4-momentum vector <span class="math notranslate nohighlight">\((E, p_x, p_y, p_z)\)</span>, <code class="docutils literal notranslate"><span class="pre">.t</span></code> refers to the time-like (energy) component.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu1_vector</span><span class="o">.</span><span class="n">t</span>
</pre></div>
</div>
</div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mu1_vector.beta</span></code> gives you the speed of each muon in the lab frame as a fraction of the speed of light, <span class="math notranslate nohighlight">\(c\)</span>. In relativistic kinematics, <span class="math notranslate nohighlight">\(\beta\)</span> is defined as:</p>
<div class="math notranslate nohighlight">
\[
    \beta = \frac{|\vec{p}|}{E} = \frac{v}{c}
    \]</div>
<p>where <span class="math notranslate nohighlight">\(|\vec{p}|\)</span> is the magnitude of the muon’s momentum and <span class="math notranslate nohighlight">\(E\)</span> is its energy. The value of <span class="math notranslate nohighlight">\(\beta\)</span> ranges from 0 (at rest) to nearly 1 (ultra-relativistic).</p>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Getting the speed of the muon in the lab frame</span>
<span class="n">mu1_vector</span><span class="o">.</span><span class="n">beta</span>
</pre></div>
</div>
</div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mu1_vector.boostX()</span></code> applies a Lorentz boost to each muon 4-vector in the <strong>x direction</strong>. A Lorentz boost changes the reference frame, simulating what the particle’s energy and momentum would look like if observed from a frame moving with velocity <span class="math notranslate nohighlight">\(\beta\)</span> along the x-axis.</p>
<p>The boost matrix in the x direction is:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
    \begin{pmatrix}
    \gamma &amp; -\beta\gamma &amp; 0 &amp; 0 \\
    -\beta\gamma &amp; \gamma &amp; 0 &amp; 0 \\
    0 &amp; 0 &amp; 1 &amp; 0 \\
    0 &amp; 0 &amp; 0 &amp; 1
    \end{pmatrix}
    \end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(\beta = v/c\)</span> is the velocity as a fraction of the speed of light, and <span class="math notranslate nohighlight">\(\gamma = 1/\sqrt{1-\beta^2}\)</span>.</p>
<p>Applying this matrix to a 4-vector <span class="math notranslate nohighlight">\((E, p_x, p_y, p_z)\)</span> transforms the energy and <span class="math notranslate nohighlight">\(p_x\)</span> components, leaving <span class="math notranslate nohighlight">\(p_y\)</span> and <span class="math notranslate nohighlight">\(p_z\)</span> unchanged. In practice, <code class="docutils literal notranslate"><span class="pre">mu1_vector.boostX()</span></code> returns a new array of 4-vectors, each boosted in the x direction by their own velocity. This is useful for transforming to the rest frame of a particle or for simulating different reference frames in relativistic kinematics.</p>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu1_vector</span><span class="o">.</span><span class="n">boostX</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mu1_vector.Et</span></code> gives you the transverse energy (<span class="math notranslate nohighlight">\(E_T\)</span>) of a particle which is defined as the component of its energy perpendicular to the beam (z) axis. It is given by:</p>
<div class="math notranslate nohighlight">
\[
    E_T = E \cdot \sin\theta
    \]</div>
<p>where <span class="math notranslate nohighlight">\(E\)</span> is the total energy of the particle and <span class="math notranslate nohighlight">\(\theta\)</span> is the angle between the particle’s momentum and the beam axis. In collider experiments, <span class="math notranslate nohighlight">\(E_T\)</span> is important because it is less sensitive to the unknown longitudinal motion of the initial state and is often used in event selection and analysis.</p>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We can now use vector to get derived quantities</span>
<span class="c1">#$E_T = E \cdot \sin\theta$</span>
<span class="n">mu1_vector</span><span class="o">.</span><span class="n">Et</span>
</pre></div>
</div>
</div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mu1_vector.mt</span></code> gives you the <strong>transverse mass</strong> (<span class="math notranslate nohighlight">\(m_T\)</span>) which is a quantity used to describe the mass of a particle or system as projected onto the plane perpendicular to the beam (the transverse plane). It is especially useful in collider experiments where the longitudinal momentum (along the beam axis) is not fully known or is less relevant. For a single particle, the transverse mass is defined as:</p>
<div class="math notranslate nohighlight">
\[
    m_T = \sqrt{E^2 - p_z^2}
    \]</div>
<p>where <span class="math notranslate nohighlight">\(E\)</span> is the total energy of the particle, and <span class="math notranslate nohighlight">\(p_z\)</span> is the component of the particle’s momentum along the beam (z) axis. The transverse mass represents the minimum possible invariant mass the particle could have, given its energy and longitudinal momentum. It is often used in analyses involving missing energy, such as searches for new particles or studies of neutrinos, because it is less sensitive to unknown or unmeasured longitudinal motion.</p>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Another derived quantity</span>
<span class="c1">#$m_T = \sqrt{E^2 - p_z^2}$</span>
<span class="n">mu1_vector</span><span class="o">.</span><span class="n">mt</span>
</pre></div>
</div>
</div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mu1_vector.deltaR()</span></code>, given another 4-momentum or array of 4-momentums, computes the quantity <span class="math notranslate nohighlight">\(\Delta R\)</span> which a measure of the separation between two particles in the detector, combining their differences in pseudorapidity (<span class="math notranslate nohighlight">\(\eta\)</span>) and azimuthal angle (<span class="math notranslate nohighlight">\(\phi\)</span>):</p>
<div class="math notranslate nohighlight">
\[
    \Delta R = \sqrt{(\Delta \eta)^2 + (\Delta \phi)^2}
    \]</div>
<p><span class="math notranslate nohighlight">\(\Delta R\)</span> is used quantify how close two particles are in the detector’s angular coordinates. It is especially important for jet clustering algorithms and for defining isolation criteria.</p>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#$$\Delta R = \sqrt{\Delta\phi^2 + \Delta\eta^2}$$</span>
<span class="n">mu1_vector</span><span class="o">.</span><span class="n">deltaR</span><span class="p">(</span><span class="n">mu2_vector</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mu1_vector.tau</span></code> returns the proper time (or “invariant interval”) associated with the vector. Mathematically, <code class="docutils literal notranslate"><span class="pre">vector</span></code> defines it as:</p>
<div class="math notranslate nohighlight">
\[
    \tau = \text{copysign}\left(\sqrt{\left| t^2 - |\vec{p}|^2 \right|},\ t^2 - |\vec{p}|^2 \right)
    \]</div>
<p>where <span class="math notranslate nohighlight">\(t\)</span> is the time-like (energy) component, and <span class="math notranslate nohighlight">\(|\vec{p}|\)</span> is the magnitude of the spatial momentum.  For a particle’s 4-momentum, <span class="math notranslate nohighlight">\(\tau\)</span> is related to the particle’s rest mass (for massive particles, <span class="math notranslate nohighlight">\(\tau = m\)</span>). If <span class="math notranslate nohighlight">\(t^2 - |\vec{p}|^2 &gt; 0\)</span>, the interval is “time-like” (as for massive particles); if <span class="math notranslate nohighlight">\(t^2 - |\vec{p}|^2 &lt; 0\)</span>, it is “space-like” (as for virtual particles or spacelike separations). In summary, <code class="docutils literal notranslate"><span class="pre">.tau</span></code> gives you the invariant mass (or proper time) associated with the 4-momentum, taking into account the sign of the interval.</p>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu1_vector</span><span class="o">.</span><span class="n">tau</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mu1_vector.to_rhophieta()</span></code> converts each 4-momentum vector in <code class="docutils literal notranslate"><span class="pre">mu1_vector</span></code> to a cylindrical coordinate representation, returning a new array of vectors with the components <span class="math notranslate nohighlight">\(\rho\)</span>, <span class="math notranslate nohighlight">\(\phi\)</span>, <span class="math notranslate nohighlight">\(\eta\)</span>, and <span class="math notranslate nohighlight">\(E\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu1_vector</span><span class="o">.</span><span class="n">to_rhophieta</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<section id="awkward-arrays-and-vector">
<h3>Awkward arrays and Vector<a class="headerlink" href="#awkward-arrays-and-vector" title="Link to this heading">#</a></h3>
<p>If you do <code class="docutils literal notranslate"><span class="pre">vector.register_awkward()</span></code>, if you name Awkward records “Momentum2D”, “Momentum3D”, or “Momentum4D”, Awkward will recognize this and you will be able to use <code class="docutils literal notranslate"><span class="pre">vector</span></code> methods.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">.</span><span class="n">register_awkward</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">uproot</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">skhep_testdata</span><span class="o">.</span><span class="n">data_path</span><span class="p">(</span><span class="s2">&quot;uproot-HZZ.root&quot;</span><span class="p">))[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span>
<span class="n">array</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">arrays</span><span class="p">(</span><span class="n">filter_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Muon_E&quot;</span><span class="p">,</span> <span class="s2">&quot;Muon_P[xyz]&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">muons</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">zip</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;px&quot;</span><span class="p">:</span> <span class="n">array</span><span class="o">.</span><span class="n">Muon_Px</span><span class="p">,</span> 
        <span class="s2">&quot;py&quot;</span><span class="p">:</span> <span class="n">array</span><span class="o">.</span><span class="n">Muon_Py</span><span class="p">,</span> 
        <span class="s2">&quot;pz&quot;</span><span class="p">:</span> <span class="n">array</span><span class="o">.</span><span class="n">Muon_Pz</span><span class="p">,</span> 
        <span class="s2">&quot;E&quot;</span><span class="p">:</span> <span class="n">array</span><span class="o">.</span><span class="n">Muon_E</span>
    <span class="p">},</span> <span class="n">with_name</span><span class="o">=</span><span class="s2">&quot;Momentum4D&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu1</span><span class="p">,</span> <span class="n">mu2</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span><span class="n">ak</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">muons</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu1</span> <span class="o">+</span> <span class="n">mu2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu1</span><span class="o">.</span><span class="n">deltaR</span><span class="p">(</span><span class="n">mu2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">muons</span><span class="o">.</span><span class="n">to_rhophieta</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu1</span><span class="o">.</span><span class="n">p</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise:</strong> Now that you know how to use vector, try making the dimuon mass spectrum again, but now only include the mass of muon pairs which are close in <span class="math notranslate nohighlight">\(\eta\)</span>-<span class="math notranslate nohighlight">\(\phi\)</span> space. You may use the thresholds <span class="math notranslate nohighlight">\(\Delta R &lt; 0.4\)</span> and <span class="math notranslate nohighlight">\(\Delta R &lt; 0.8\)</span> and see if it makes a significant difference.</p>
</section>
</section>
<section id="hist">
<h2>Hist<a class="headerlink" href="#hist" title="Link to this heading">#</a></h2>
<section id="universal-histogram-indexing-uhi">
<h3>Universal Histogram Indexing (UHI)<a class="headerlink" href="#universal-histogram-indexing-uhi" title="Link to this heading">#</a></h3>
<p>This indexing system is being developed within Scikit-HEP in order to standardize what it means to do array-like slices for histograms. Let’s first load data to use in our examples.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">uproot</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">skhep_testdata</span><span class="o">.</span><span class="n">data_path</span><span class="p">(</span><span class="s2">&quot;uproot-Zmumu.root&quot;</span><span class="p">))[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">arrays</span><span class="p">()</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
</div>
<p>Lets now make a 1D histogram of the mass.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">hist</span>

<span class="n">h</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">Hist</span><span class="p">(</span><span class="n">hist</span><span class="o">.</span><span class="n">axis</span><span class="o">.</span><span class="n">Regular</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;mass&quot;</span><span class="p">))</span>
<span class="n">h</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">])</span>
<span class="n">h</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Firstly, integer slices select a range of bins.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Selecting from bin 10 to bin 110</span>
<span class="n">h</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">110</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>If we want to slice by coordinate value, we can just include a <code class="docutils literal notranslate"><span class="pre">j</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Slicing the histogram to get from coordinate 90 to the end</span>
<span class="n">h</span><span class="p">[</span><span class="mi">90</span><span class="n">j</span><span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>If we want to rebin by a certain factor, it can be done also through slicing syntax.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Selecting all bins and then rebinning by a factor of 5</span>
<span class="n">h</span><span class="p">[::</span><span class="mi">20</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>And you can sum over a range by doing the following.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Slicing from coordinate 90 to 100 and the summing</span>
<span class="n">h</span><span class="p">[</span><span class="mi">90</span><span class="n">j</span><span class="p">:</span><span class="mi">100</span><span class="n">j</span><span class="p">:</span><span class="nb">sum</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="multi-dimensional-histograms">
<h2>Multi-dimensional histograms<a class="headerlink" href="#multi-dimensional-histograms" title="Link to this heading">#</a></h2>
<p>A powerful feature of <code class="docutils literal notranslate"><span class="pre">hist</span></code> is that it allows you to handle histograms with many dimensions (even more than the amount you could plot!).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">uproot</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">hist</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">awkward</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ak</span>

<span class="n">picodst</span> <span class="o">=</span> <span class="n">uproot</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
    <span class="s2">&quot;https://pivarski-princeton.s3.amazonaws.com/pythia_ppZee_run17emb.picoDst.root:PicoDst&quot;</span>
<span class="p">)</span>

<span class="n">vertexhist</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">Hist</span><span class="p">(</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">axis</span><span class="o">.</span><span class="n">Regular</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">),</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">axis</span><span class="o">.</span><span class="n">Regular</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">),</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">axis</span><span class="o">.</span><span class="n">Regular</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;z&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">vertex_data</span> <span class="o">=</span> <span class="n">picodst</span><span class="o">.</span><span class="n">arrays</span><span class="p">(</span><span class="n">filter_name</span><span class="o">=</span><span class="s2">&quot;*mPrimaryVertex[XYZ]&quot;</span><span class="p">)</span>

<span class="n">vertexhist</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span>
    <span class="n">ak</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">vertex_data</span><span class="p">[</span><span class="s2">&quot;Event.mPrimaryVertexX&quot;</span><span class="p">]),</span>
    <span class="n">ak</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">vertex_data</span><span class="p">[</span><span class="s2">&quot;Event.mPrimaryVertexY&quot;</span><span class="p">]),</span>
    <span class="n">ak</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">vertex_data</span><span class="p">[</span><span class="s2">&quot;Event.mPrimaryVertexZ&quot;</span><span class="p">]),</span>
<span class="p">)</span>

<span class="n">vertexhist</span><span class="p">[:,</span> <span class="p">:,</span> <span class="nb">sum</span><span class="p">]</span><span class="o">.</span><span class="n">plot2d_full</span><span class="p">()</span>
<span class="n">vertexhist</span><span class="p">[</span><span class="o">-</span><span class="mf">0.25</span><span class="n">j</span><span class="p">:</span><span class="mf">0.25</span><span class="n">j</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="n">j</span><span class="p">:</span><span class="mf">0.25</span><span class="n">j</span><span class="p">,</span> <span class="nb">sum</span><span class="p">]</span><span class="o">.</span><span class="n">plot2d_full</span><span class="p">()</span>
<span class="n">vertexhist</span><span class="p">[</span><span class="nb">sum</span><span class="p">,</span> <span class="nb">sum</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">vertexhist</span><span class="p">[</span><span class="o">-</span><span class="mf">0.25</span><span class="n">j</span><span class="p">:</span><span class="mf">0.25</span><span class="n">j</span><span class="p">:</span><span class="nb">sum</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="n">j</span><span class="p">:</span><span class="mf">0.25</span><span class="n">j</span><span class="p">:</span><span class="nb">sum</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise</strong>: Using the <span class="math notranslate nohighlight">\(Z \to \mu\mu\)</span> data we downoaded before, plot a 2d histogram of eta vs phi of the muons. Explain what you are looking at in the histogram. (Hint: Refer back to the Figure of the CMS coordinate system)</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="4_dimuons.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Dimuons Revisited</p>
      </div>
    </a>
    <a class="right-next"
       href="project-workbook.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Project: Discover the Higgs!</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vectors">Vectors</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#awkward-arrays-and-vector">Awkward arrays and Vector</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hist">Hist</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#universal-histogram-indexing-uhi">Universal Histogram Indexing (UHI)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-dimensional-histograms">Multi-dimensional histograms</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>